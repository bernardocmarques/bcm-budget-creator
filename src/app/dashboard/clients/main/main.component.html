<main>
  <div class="container px-6 mx-auto">

    <!-- Title -->
    <h2 class="my-6 flex items-center text-2xl font-semibold text-gray-700 dark:text-gray-200">
      <i [attr.data-eva]="'people-outline'" class="w-6 h-6 mr-2 fill-current"></i>
      Clients
    </h2>

    <!-- Add client btn -->
    <button class="px-5 py-3 mb-8 float-right flex items-center justify-between text-sm font-medium leading-5 text-white
                  transition-colors duration-150 bg-indigo-500 border border-transparent rounded-lg
                  active:bg-indigo-600 hover:bg-indigo-600 focus:outline-none focus:shadow-outline-indigo"
            [routerLink]="'add'">
      <span>Create client</span>

      <svg class="h-5 w-5 ml-2" viewBox="0 0 20 20" fill="currentColor">
        <path d="M8 9a3 3 0 100-6 3 3 0 000 6zM8 11a6 6 0 016 6H2a6 6 0 016-6zM16 7a1 1 0 10-2 0v1h-1a1 1 0 100 2h1v1a1 1 0 102 0v-1h1a1 1 0 100-2h-1V7z" />
      </svg>
    </button>

    <!-- Clients Table -->
    <app-table
      [classList]="'mb-8'"
      [headers]="headers"
      [data]="data"
      [step]="10"
      [hasNavigation]="true"
      [defaultSort]="1"
      [defaultColumnSortIndex]="0"
      [loading]="loading"
      (editBtnClicked)="doAction('edit', $event)"
      (deleteBtnClicked)="doAction('delete', $event)">
    </app-table>

  </div>
</main>

<ng-container *ngIf="isModalOpen">
  <app-modal
    [isModalOpen]="isModalOpen"
    [id]="'delete-client-modal'"
    [title]="'Delete client'"
    [description]="'Are you sure you want to delete client \'' + clientToDelete.name + '\'? You won\'t be able to undo this action.'"
    [positiveBtnText]="'Delete'"
    [positiveBtnColor]="'red'"
    (positiveBtnClicked)="deleteClient(clientToDelete)"
    (closeBtnClicked)="isModalOpen = false"
    [actionInProgress]="deleting">
  </app-modal>
</ng-container>
